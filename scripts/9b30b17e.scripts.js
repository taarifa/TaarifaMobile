!function(){"use strict";angular.module("taarifaApp",["reportService","ngGeolocation"]).config(["$routeProvider",function(a){return a.when("/reports",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/reports/new",{templateUrl:"views/newreport.html",controller:"NewReportCtrl"}).otherwise({redirectTo:"/reports"})}])}.call(this),function(){"use strict";angular.module("taarifaApp").controller("MainCtrl",["$scope","Report",function(a,b){return a.reports=b.query()}]).controller("NewReportCtrl",["$scope","$location","Report","geolocation",function(a,b,c,d){return a.position=d.position(),a.save=function(){return a.position.then(function(d){return a.report.latitude=d.coords.latitude,a.report.longitude=d.coords.longitude,console.log(a.report),c.save(a.report,function(a){return console.log(a),b.path("/reports")})},function(a){return console.log("Could not determine your location:",a)})}}])}.call(this),function(){"use strict";angular.module("reportService",["ngResource"]).factory("Report",["$resource",function(a){return a("http://api.taarifa.org/reports/:reportId",{},{query:{method:"JSONP",params:{callback:"JSON_CALLBACK"},isArray:!0}})}])}.call(this);